<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Panel del Profesional</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Monoton&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Rubik+Doodle+Shadow&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/sitter.css" />
  </head>

  <body>
    <header class="topbar">
      <div class="contain-titulo">
        <h1>üêæ Panel del Profesional</h1>
        <span>Bienvenido </span><br />
        <span id="sitterName">Usuario</span>
        <span id="verifyStatus" class="badge">...</span>
      </div>

      <!-- üë§ User Actions -->
      <div class="owner-actions">
        <!-- üåô/‚òÄÔ∏è Theme Switch -->
        <label class="theme-toggle">
          <input type="checkbox" id="themeToggle" />
          <span class="toggle-label"></span>
        </label>
        <button id="btnLogout" class="btn-logout">‚èª Cerrar sesi√≥n</button>
      </div>
    </header>
    <!-- ‚úÖ Reservas -->
    <section class="section-card">
      <h2>üìÖ Mis Reservas</h2>
      <table id="appointmentsTable">
        <thead>
          <tr>
            <th>Mascota</th>
            <th>Due√±o</th>
            <th>Fecha</th>
            <th>Estado</th>
            <th>Acci√≥n</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <!-- ‚úÖ Horarios -->
    <section class="section-card">
      <h2>‚è± Mi disponibilidad</h2>

      <div class="horarios-form">
        <select id="diaSemana">
          <option value="LUN">Lunes</option>
          <option value="MAR">Martes</option>
          <option value="MIE">Mi√©rcoles</option>
          <option value="JUE">Jueves</option>
          <option value="VIE">Viernes</option>
          <option value="SAB">S√°bado</option>
          <option value="DOM">Domingo</option>
        </select>

        <input type="time" id="horaInicio" />
        <input type="time" id="horaFin" />

        <button id="btnAddHorario">‚ûï Agregar</button>
      </div>

      <table id="horariosTable">
        <thead>
          <tr>
            <th>D√≠a</th>
            <th>Inicio</th>
            <th>Fin</th>
            <th>Activo</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>
    <!-- ‚úÖ MODAL EDITAR HORARIO -->
    <div id="modalHorario" class="modal hidden">
      <div class="modal-content small">
        <h3>Editar Horario</h3>

        <label>D√≠a:</label>
        <select id="editDiaSemana">
          <option value="LUN">Lunes</option>
          <option value="MAR">Martes</option>
          <option value="MIE">Mi√©rcoles</option>
          <option value="JUE">Jueves</option>
          <option value="VIE">Viernes</option>
          <option value="SAB">S√°bado</option>
          <option value="DOM">Domingo</option>
        </select>

        <label>Inicio:</label>
        <input type="time" id="editHoraInicio" />

        <label>Fin:</label>
        <input type="time" id="editHoraFin" />

        <div class="modal-actions">
          <button id="btnGuardarHorario">Guardar ‚úÖ</button>
          <button id="btnCerrarModal">Cancelar</button>
        </div>
      </div>
    </div>

    <!-- ‚úÖ Rese√±as -->
    <section class="section-card">
      <h2>‚≠ê Mis Rese√±as</h2>
      <ul id="reseniasList" class="review-list"></ul>
    </section>

    <!-- ‚úÖ Perfil -->
    <section class="section-card">
      <h2>‚öôÔ∏è Mi Perfil</h2>
      <button id="openProfileModal" class="btn-edit">Editar Perfil</button>
    </section>

    <!-- ‚úÖ MODAL PERFIL -->
    <div id="profileModal" class="modal hidden">
      <div class="modal-content">
        <h3>Editar Perfil</h3>

        <div class="avatar-preview-container">
          <img
            id="editMyAvatarPreview"
            class="avatar-preview hidden"
            src=""
            alt="Avatar"
          />
        </div>

        <form
          id="editProfileForm"
          class="form-grid"
          enctype="multipart/form-data"
        >
          <label>üì∏ Foto de perfil:</label>
          <input type="file" id="editMyFoto" name="foto" accept="image/*" />

          <label>üë§ Nombre completo:</label>
          <input type="text" id="editMyNombre" required />

          <label>üìß Email:</label>
          <input type="email" id="editMyEmail" required />

          <label>üìç Direcci√≥n:</label>
          <input type="text" id="editMyDireccion" />

          <label>Especialidad:</label>
          <select id="editMyEspecialidad" name="rol_profesional">
            <option value="PASEADOR">Paseador</option>
            <option value="VETERINARIO">Veterinario</option>
            <option value="CUIDADOR">Cuidador</option>
            <option value="PELUQUERO">Peluquero</option>
          </select>

          <label>Descripci√≥n:</label>
          <textarea id="editMyDescripcion"></textarea>

          <label>Contrase√±a (opcional):</label>
          <input type="password" id="editMyPassword" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" />

          <div class="modal-actions">
            <button type="submit">Guardar ‚úÖ</button>
            <button type="button" onclick="closeProfileModal()">
              Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>

    <script type="module" src="./controladores/dashboard-sitter.js"></script>
  </body>
</html>
