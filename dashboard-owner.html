<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>🐶 Panel del Dueño</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Monoton&family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Rubik+Doodle+Shadow&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/owner.css" />
  </head>

  <body>
    <!-- ✅ TOPBAR -->
    <header class="topbar">
      <div class="contain-titulo">
        <h1>🐾 Panel del Dueño</h1>
        <span>Bienvenido </span><br />
        <span id="ownerName">Usuario</span>
      </div>

      <!-- 👤 User Actions -->
      <div class="owner-actions">
        <!-- 🌙/☀️ Theme Switch -->
        <label class="theme-toggle">
          <input type="checkbox" id="themeToggle" />
          <span class="toggle-label"></span>
        </label>
        <button id="btnLogout" class="btn-logout">⏻ Cerrar sesión</button>
      </div>
    </header>
    <main>
      <!-- ✅ BLOQUE MASCOTAS -->
      <section class="section-card">
        <h2>🐾 Mis Mascotas</h2>
        <button id="btnAddPet" class="btn-add">➕ Nueva Mascota</button>
        <div id="petsContainer" class="cards-container"></div>
      </section>

      <!-- ✅ BLOQUE PERFIL -->
      <section class="section-card">
        <h2>⚙️ Mi Perfil</h2>
        <button id="btnEditProfile" class="btn-primary">Editar Perfil</button>
      </section>

      <!-- ✅ BLOQUE CITAS -->
      <section class="section-card">
        <h2>📅 Mis Citas</h2>
        <div id="appointmentsContainer" class="cards-container"></div>
      </section>

      <!-- ✅ BLOQUE RESERVAR -->
      <section class="section-card">
        <h2>📌 Reservar Servicio</h2>

        <form id="appointmentForm" class="form-grid">
          <label>Mascota:</label>
          <select id="selectPet" required></select>

          <label>Profesional:</label>
          <select id="selectSitter" required></select>

          <label>Fecha:</label>
          <input type="date" id="appointmentDate" required />

          <label>Hora disponible:</label>
          <select id="appointmentTime" required></select>

          <button type="submit" class="btn-primary">📅 Reservar</button>
        </form>
      </section>
    </main>

    <!-- ✅ MODAL MASCOTA -->
    <div id="petModal" class="modal hidden">
      <div class="modal-content pet-modal">
        <h3 class="modal-title">🐾 Registrar / Editar Mascota</h3>

        <form id="petForm" class="form-grid" enctype="multipart/form-data">
          <div class="form-row full">
            <label class="form-label">📸 Foto de la mascota</label>
            <input
              type="file"
              id="petFoto"
              name="foto"
              accept="image/*"
              class="input-file"
            />
          </div>

          <div class="avatar-preview-container">
            <img
              id="petFotoPreview"
              class="avatar-preview hidden"
              src=""
              alt="Preview"
            />
          </div>

          <div class="form-row">
            <label class="form-label">Nombre:</label>
            <input id="petNombre" class="input" required />
          </div>

          <div class="form-row">
            <label class="form-label">Especie:</label>
            <input id="petEspecie" class="input" required />
          </div>

          <div class="form-row">
            <label class="form-label">Raza:</label>
            <input id="petRaza" class="input" />
          </div>

          <div class="form-row">
            <label class="form-label">Edad:</label>
            <input
              id="petEdad"
              type="number"
              min="0"
              class="input"
              placeholder="Años"
            />
          </div>

          <div class="form-row full">
            <label class="form-label">Problemas de Salud:</label>
            <textarea id="petProblemas" class="input textarea"></textarea>
          </div>

          <div class="modal-actions">
            <button type="submit" class="btn-save">✅ Guardar</button>
            <button type="button" onclick="closePetModal()" class="btn-cancel">
              ❌ Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- ✅ MODAL PERFIL -->
    <div id="modalProfile" class="modal hidden">
      <div class="modal-content profile-modal">
        <h3 class="modal-title">👤 Editar Perfil</h3>

        <form
          id="editOwnerForm"
          class="form-grid"
          enctype="multipart/form-data"
        >
          <!-- ✅ Foto -->
          <div class="form-row full">
            <label class="form-label">📸 Foto de perfil:</label>
            <input
              type="file"
              id="editOwnerFoto"
              name="foto"
              accept="image/*"
              class="input-file"
            />
          </div>

          <div class="avatar-preview-container">
            <img
              id="editOwnerAvatarPreview"
              class="avatar-preview hidden"
              src=""
              alt="Preview"
            />
          </div>

          <!-- ✅ Datos básicos -->
          <div class="form-row">
            <label class="form-label">Nombre completo:</label>
            <input id="editOwnerNombre" class="input" required />
          </div>

          <div class="form-row">
            <label class="form-label">📧 Email:</label>
            <input type="email" id="editOwnerEmail" class="input" required />
          </div>

          <div class="form-row full">
            <label class="form-label">📍 Dirección:</label>
            <input id="editOwnerDireccion" class="input" />
          </div>

          <div class="form-row full">
            <label class="form-label">🧩 Descripción:</label>
            <textarea
              id="editOwnerDescripcion"
              class="input textarea"
            ></textarea>
          </div>

          <div class="form-row full">
            <label class="form-label">🔐 Contraseña (opcional):</label>
            <input
              type="password"
              id="editOwnerPassword"
              class="input"
              placeholder="••••••••"
            />
          </div>

          <!-- ✅ Acciones -->
          <div class="modal-actions">
            <button type="submit" class="btn-save">✅ Guardar</button>
            <button
              type="button"
              onclick="closeProfileModal()"
              class="btn-cancel"
            >
              ❌ Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>
    <!-- ✅ MODAL RESEÑA -->
    <div id="modalReview" class="modal hidden">
      <div class="modal-content">
        <h3>Calificar al cuidador ⭐</h3>

        <form id="reviewForm" class="form-grid">
          <label>Calificación:</label>
          <select id="reviewStars" required>
            <option value="5">⭐⭐⭐⭐⭐</option>
            <option value="4">⭐⭐⭐⭐</option>
            <option value="3">⭐⭐⭐</option>
            <option value="2">⭐⭐</option>
            <option value="1">⭐</option>
          </select>

          <label>Comentario (opcional):</label>
          <textarea
            id="reviewComment"
            placeholder="¿Cómo fue la experiencia?"
          ></textarea>

          <div class="modal-actions">
            <button type="submit" class="btn-primary">Enviar ✅</button>
            <button
              type="button"
              onclick="closeReviewModal()"
              class="btn-secondary"
            >
              Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>

    <script type="module" src="./controladores/dashboard-owner.js"></script>
  </body>
</html>
